(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{185:function(n,t,e){"use strict";e(27);var i=function(n,t){console.log("回调结束")};t.a={EOS:function(n){return e(186)({keyProvider:[n?n.keyProvider:""],httpEndpoint:"https://mainnet.meet.one",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",mockTransactions:function(){return null},expireInSeconds:60,broadcast:!0,debug:!1,sign:!0,authorization:null})},tran_abi:function(n,t,e,i,o,r,a){n.transaction({actions:[{account:t,name:e,authorization:[{actor:i.name,permission:"active"}],data:o}]}).then(function(n){r(n)}).catch(function(n){a(n)})},tran:function(n,t,e,o,r,a,s){n.transfer({from:t,to:e,quantity:o,memo:r,callback:i}).then(function(n){a(n)}).catch(function(n){s(n)})}}},195:function(n,t,e){"use strict";e(89),e(38),e(39),e(22),e(40);var i=e(4),o=e.n(i),r=e(185),a=8,s=16,c=20,u={k:"sgxiangtk123",v:"14067806308472472624"},l={k:"dpkingtoken5",v:"5575713294574069328"},p={k:"itoken555555",v:"8532356795776715344"},f={k:"huanglili521",v:"7966082989382779920"},h={k:"sgxianggame1",v:"14067806308249408528"};function d(n){return g.apply(this,arguments)}function g(){return(g=o()(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,e){var i=r.a.EOS(),o={};o.account=t.k,i.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"petexp",lower_bound:t.v,limit:1}).then(function(n){var e=n.rows[0].rows;o.pets=[];var r=!0,u=!1,l=void 0;try{for(var p,f=e[Symbol.iterator]();!(r=(p=f.next()).done);r=!0){var h=p.value,d=(parseInt("15"+h.start),(1e3*parseInt("15"+h.end)-(new Date).getTime())/1e3/60/60),g=d<1?parseInt(60*d)+"分钟":parseInt(d)+"小时"+parseInt(60*(d-parseInt(d)))+"分钟";d<=0&&(g="0秒");var v=h.isback?"休息中":"远征中";h.code<=a?o.pets.push("白色宠物 "+v+" 结束："+g):h.code<=s?o.pets.push("黄色宠物 "+v+" 结束："+g):h.code<=c?o.pets.push("绿色宠物 "+v+" 结束："+g):o.pets.push("紫色宠物 "+v+" 结束："+g)}}catch(n){u=!0,l=n}finally{try{r||null==f.return||f.return()}finally{if(u)throw l}}return i.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"revenue",lower_bound:t.v,limit:1})}).then(function(n){var e=n.rows[0].selling,r=n.rows[0].spending,a=n.rows[0].buying,s=(.97*parseFloat(e)).toFixed(4)-parseFloat(r)-parseFloat(a);return o.money=s.toFixed(4)+" EOS",i.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"knight",lower_bound:t.v,limit:1})}).then(function(n){var e,r,a=n.rows[0].rows,s=0,c=!0,u=!1,l=void 0;try{for(var p,f=a[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;s=Math.max(s,(r=void 0,r=25-25*(e=h).defense/(e.defense+1e3),60*e.hp/r))}}catch(n){u=!0,l=n}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}return o.spendtime=s,i.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"player",lower_bound:t.v,limit:1})}).then(function(t){o.powder=t.rows[0].powder;var e=1e3*parseInt("15"+t.rows[0].last_rebirth),i=(new Date).getTime(),r=(i-e)/1e3,a=(1e3*o.spendtime-i+e)/1e3/60/60,s=a<1?parseInt(60*a)+"分钟":parseInt(a)+"小时"+parseInt(60*(a-parseInt(a)))+"分钟";o.rebirth=r,o.rebirth>=o.spendtime?o.diff_text="可以复活了":o.diff_text=s+"后可复活",n(o)}).catch(function(n){e(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}function v(){return(v=o()(regeneratorRuntime.mark(function n(t){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(i=t.split(",")).map(function(n){return{k:n,v:(t=n,""+e(186).modules.format.encodeName(t,!1))};var t}),n.abrupt("return",new Promise(function(n,t){m(i,0,[],function(t){n(t)},function(n){t(n)})}));case 3:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}function m(n,t,e,i,o){t>=n.length&&i(e),d(n[t]).then(function(r){e.push(r),m(n,t+1,e,i,o)}).catch(function(n){o(n)})}function x(){return(x=o()(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,t){var e=[];d(u).then(function(n){return e.push(n),d(p)}).then(function(n){return e.push(n),d(h)}).then(function(n){return e.push(n),d(l)}).then(function(n){return e.push(n),d(f)}).then(function(t){e.push(t),n(e)}).catch(function(n){t(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}t.a={get_my_knights:function(){return x.apply(this,arguments)},get_other_knights:function(n){return v.apply(this,arguments)}}},221:function(n,t,e){var i=e(370);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e(42).default)("9e1ca9cc",i,!0,{sourceMap:!1})},244:function(n,t){},245:function(n,t){},260:function(n,t){},369:function(n,t,e){"use strict";var i=e(221);e.n(i).a},370:function(n,t,e){(n.exports=e(41)(!1)).push([n.i,"\n.header{display:flex;align-items:center\n}\ninput{width:80vw;height:44px;font-size:16px;padding-left:20px;padding-right:20px\n}\n.refresh{height:44px;line-height:44px;width:20vw;background-color:#000;text-align:center;color:#fff;font-weight:700\n}\n.green{color:green\n}\n.fuchsia{color:#f0f\n}\n.red{color:#ff1493\n}\n.yellow{color:#da8300\n}\n.container,body{background-color:#f3f3f3\n}\n.container{min-height:100vh\n}\n.loading{width:100vw;height:100vh;text-align:center;line-height:100vh;font-size:18px\n}\n.all-money{height:44px;padding-left:20px;background-color:#7fffd4;line-height:44px\n}\n.all-money,.farm{width:100vw;font-size:16px;font-weight:700\n}\n.farm{padding:10px 20px;background-color:#ffea70\n}\n.infos{margin-top:20px;margin-bottom:20px\n}\n.title{font-weight:700\n}\n.time,.title{margin-left:20px;height:30px;line-height:30px;font-size:16px\n}\n.time{color:#c42700\n}\n.powder{margin-left:20px;height:30px;line-height:30px\n}\n.info-wrap{background-color:#fff;border-radius:4px;padding:10px 20px;margin:0 20px\n}\n.pet{line-height:30px\n}",""])},374:function(n,t,e){"use strict";e.r(t);e(38),e(39),e(22),e(58);var i=e(195),o=(e(59),{data:function(){return{infos:[],error:null,loading:!1,allMoney:0,inputText:""}},components:{},mounted:function(){this.inputText=localStorage.getItem("knights-accounts"),null!=this.inputText&&""!=this.inputText||(this.inputText="vip.game,guzdgmrwgyge"),this.getData()},methods:{petHtml:function(n){var t=n;return-1!=t.indexOf("绿色宠物")?t=t.replace("绿色宠物","<span class='green'>绿色宠物</span>"):-1!=t.indexOf("紫色宠物")?t=t.replace("紫色宠物","<span class='fuchsia'>紫色宠物</span>"):-1!=t.indexOf("黄色宠物")&&(t=t.replace("黄色宠物","<span class='yellow'>黄色宠物</span>")),-1!=t.indexOf("远征中")&&(t=t.replace("远征中","<span class='red'>远征中</span>")),t},getData:function(){var n=this;if(""!=this.inputText&&(localStorage.setItem("knights-accounts",this.inputText),!this.loading)){this.loading=!0;var t=this;i.a.get_other_knights(this.inputText).then(function(t){n.loading=!1,n.infos=t,n.allMoney=0;var e=!0,i=!1,o=void 0;try{for(var r,a=n.infos[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value;n.allMoney=n.allMoney+parseFloat(s.money)}}catch(n){i=!0,o=n}finally{try{e||null==a.return||a.return()}finally{if(i)throw o}}}).catch(function(e){n.loading=!1,n.error=e,setTimeout(function(){t.getData()},3e5)})}}}}),r=(e(369),e(19)),a=Object(r.a)(o,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"container"},[n.loading&&0==n.infos.length?e("p",{staticClass:"loading"},[n._v("加载中...")]):e("div",[e("div",{staticClass:"header"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.inputText,expression:"inputText"}],attrs:{type:"text",placeholder:"输入账号"},domProps:{value:n.inputText},on:{input:function(t){t.target.composing||(n.inputText=t.target.value)}}}),n._v(" "),e("div",{staticClass:"refresh",on:{click:function(t){n.getData()}}},[n._v(n._s(n.loading?"刷新中...":"刷新"))])]),n._v(" "),e("p",{staticClass:"all-money"},[n._v("\n      盈亏："+n._s(n.allMoney.toFixed(4))+" EOS\n    ")]),n._v(" "),n._l(n.infos,function(t){return e("div",{key:t.account,staticClass:"infos"},[e("p",{staticClass:"title"},[n._v(n._s(t.account)),e("span",{staticClass:"time"},[n._v(n._s(t.diff_text))])]),n._v(" "),e("p",{staticClass:"powder"},[n._v(n._s(t.powder)+"水")]),n._v(" "),e("div",{staticClass:"info-wrap"},n._l(t.pets,function(i,o){return e("p",{key:i+t.account+o,staticClass:"pet",domProps:{innerHTML:n._s(n.petHtml(i))}})}))])})],2)])},[],!1,null,null,null);a.options.__file="knights.vue";t.default=a.exports}}]);