(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{185:function(n,t,e){"use strict";e(27);var r=function(n,t){console.log("回调结束")};t.a={EOS:function(n){return e(186)({keyProvider:[n?n.keyProvider:""],httpEndpoint:"https://mainnet.meet.one",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",mockTransactions:function(){return null},expireInSeconds:60,broadcast:!0,debug:!1,sign:!0,authorization:null})},tran_abi:function(n,t,e,r,o,i,a){n.transaction({actions:[{account:t,name:e,authorization:[{actor:r.name,permission:"active"}],data:o}]}).then(function(n){i(n)}).catch(function(n){a(n)})},tran:function(n,t,e,o,i,a,s){n.transfer({from:t,to:e,quantity:o,memo:i,callback:r}).then(function(n){a(n)}).catch(function(n){s(n)})}}},195:function(n,t,e){"use strict";e(89),e(38),e(39),e(22),e(40);var r=e(4),o=e.n(r),i=e(185),a=8,s=16,c=20,u={k:"sgxiangtk123",v:"14067806308472472624"},f={k:"dpkingtoken5",v:"5575713294574069328"},l={k:"itoken555555",v:"8532356795776715344"},p={k:"huanglili521",v:"7966082989382779920"},h={k:"sgxianggame1",v:"14067806308249408528"};function d(n){return g.apply(this,arguments)}function g(){return(g=o()(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,e){var r=i.a.EOS(),o={};o.account=t.k,r.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"petexp",lower_bound:t.v,limit:1}).then(function(n){var e=n.rows[0].rows;o.pets=[];var i=!0,u=!1,f=void 0;try{for(var l,p=e[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var h=l.value,d=(parseInt("15"+h.start),(1e3*parseInt("15"+h.end)-(new Date).getTime())/1e3/60/60),g=d<1?parseInt(60*d)+"分钟":parseInt(d)+"小时"+parseInt(60*(d-parseInt(d)))+"分钟";d<=0&&(g="0秒");var m=h.isback?"休息中":"远征中";h.code<=a?o.pets.push("白色宠物 "+m+" 结束："+g):h.code<=s?o.pets.push("黄色宠物 "+m+" 结束："+g):h.code<=c?o.pets.push("绿色宠物 "+m+" 结束："+g):o.pets.push("紫色宠物 "+m+" 结束："+g)}}catch(n){u=!0,f=n}finally{try{i||null==p.return||p.return()}finally{if(u)throw f}}return r.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"revenue",lower_bound:t.v,limit:1})}).then(function(n){var e=n.rows[0].selling,i=n.rows[0].spending,a=n.rows[0].buying,s=(.97*parseFloat(e)).toFixed(4)-parseFloat(i)-parseFloat(a);return o.money=s.toFixed(4)+" EOS",r.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"knight",lower_bound:t.v,limit:1})}).then(function(n){var e,i,a=n.rows[0].rows,s=0,c=!0,u=!1,f=void 0;try{for(var l,p=a[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var h=l.value;s=Math.max(s,(i=void 0,i=25-25*(e=h).defense/(e.defense+1e3),60*e.hp/i))}}catch(n){u=!0,f=n}finally{try{c||null==p.return||p.return()}finally{if(u)throw f}}return o.spendtime=s,r.getTableRows({json:!0,code:"eosknightsio",scope:"eosknightsio",table:"player",lower_bound:t.v,limit:1})}).then(function(t){o.powder=t.rows[0].powder;var e=1e3*parseInt("15"+t.rows[0].last_rebirth),r=(new Date).getTime(),i=(r-e)/1e3,a=(1e3*o.spendtime-r+e)/1e3/60/60,s=a<1?parseInt(60*a)+"分钟":parseInt(a)+"小时"+parseInt(60*(a-parseInt(a)))+"分钟";o.rebirth=i,o.rebirth>=o.spendtime?o.diff_text="可以复活了":o.diff_text=s+"后可复活",n(o)}).catch(function(n){e(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}function m(){return(m=o()(regeneratorRuntime.mark(function n(t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=(r=t.split(",")).map(function(n){return{k:n,v:(t=n,""+e(186).modules.format.encodeName(t,!1))};var t}),n.abrupt("return",new Promise(function(n,t){v(r,0,[],function(t){n(t)},function(n){t(n)})}));case 3:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}function v(n,t,e,r,o){t>=n.length&&r(e),d(n[t]).then(function(i){e.push(i),v(n,t+1,e,r,o)}).catch(function(n){o(n)})}function w(){return(w=o()(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,t){var e=[];d(u).then(function(n){return e.push(n),d(l)}).then(function(n){return e.push(n),d(h)}).then(function(n){return e.push(n),d(f)}).then(function(n){return e.push(n),d(p)}).then(function(t){e.push(t),n(e)}).catch(function(n){t(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}t.a={get_my_knights:function(){return w.apply(this,arguments)},get_other_knights:function(n){return m.apply(this,arguments)}}},222:function(n,t,e){var r=e(372);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,e(42).default)("d4be674c",r,!0,{sourceMap:!1})},244:function(n,t){},245:function(n,t){},260:function(n,t){},371:function(n,t,e){"use strict";var r=e(222);e.n(r).a},372:function(n,t,e){(n.exports=e(41)(!1)).push([n.i,"\n.green{color:green\n}\n.fuchsia{color:#f0f\n}\n.red{color:#ff1493\n}\n.yellow{color:#da8300\n}\n.container,body{background-color:#f3f3f3\n}\n.container{min-height:100vh\n}\n.loading{width:100vw;height:100vh;text-align:center;line-height:100vh;font-size:18px\n}\n.all-money{width:100vw;height:44px;padding-left:20px;font-size:16px;background-color:#7fffd4;line-height:44px;font-weight:700\n}\n.refresh{position:fixed;right:20px;top:7px;height:30px;line-height:30px;width:120px;background-color:#000;text-align:center;color:#fff;border-radius:4px\n}\n.farm,.refresh{font-weight:700\n}\n.farm{font-size:16px;width:100vw;padding:10px 20px;background-color:#ffea70\n}\n.infos{margin-top:20px;margin-bottom:20px\n}\n.title{font-weight:700\n}\n.time,.title{margin-left:20px;height:30px;line-height:30px;font-size:16px\n}\n.time{color:#c42700\n}\n.powder{margin-left:20px;height:30px;line-height:30px\n}\n.info-wrap{background-color:#fff;border-radius:4px;padding:10px 20px;margin:0 20px\n}\n.pet{line-height:30px\n}",""])},373:function(n,t,e){"use strict";e.r(t);e(38),e(39),e(22),e(58);var r=e(195),o=e(59),i=e.n(o),a=(e(40),e(4)),s=e.n(a),c=e(185),u={k:"sgxiangtk123",v:""},f={k:"itoken555555",v:""};function l(n){return p.apply(this,arguments)}function p(){return(p=s()(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,e){var r=c.a.EOS(),o="";r.getTableRows({scope:t.k,code:"farmeosbank3",table:"mybonus",json:!0,limit:200}).then(function(e){var r=1e3*e.rows[e.rows.length-1].claim_time,i=(new Date).getTime();if(r+864e5<i)o=t.k+"可领取";else{var a=r+864e5-i;o=a<=0?t.k+"可领取farm分红":t.k+"等待"+(a/1e3/60).toFixed(0)+"分钟可领取farm分红"}n(o)}).catch(function(n){e(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}function h(){return(h=s()(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,t){var e=[];l(u).then(function(n){return e.push(n),l(f)}).then(function(t){e.push(t),n(e)}).catch(function(n){t(n)})}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}var d=function(){return h.apply(this,arguments)},g={data:function(){return{infos:[],error:null,loading:!1,allMoney:0,farm:[]}},components:{},mounted:function(){this.getData()},methods:{petHtml:function(n){var t=n;return-1!=t.indexOf("绿色宠物")?t=t.replace("绿色宠物","<span class='green'>绿色宠物</span>"):-1!=t.indexOf("紫色宠物")?t=t.replace("紫色宠物","<span class='fuchsia'>紫色宠物</span>"):-1!=t.indexOf("黄色宠物")&&(t=t.replace("黄色宠物","<span class='yellow'>黄色宠物</span>")),-1!=t.indexOf("远征中")&&(t=t.replace("远征中","<span class='red'>远征中</span>")),t},getData:function(){var n=this;if(!this.loading){this.loading=!0;var t=this;r.a.get_my_knights().then(function(t){n.infos=t,n.allMoney=0;var e=!0,r=!1,o=void 0;try{for(var i,a=n.infos[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;n.allMoney=n.allMoney+parseFloat(s.money)}}catch(n){r=!0,o=n}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return d()}).then(function(e){n.loading=!1,n.farm=e,setTimeout(function(){t.getData()},3e5)}).catch(function(e){n.loading=!1,n.error=e,setTimeout(function(){t.getData()},3e5)})}},sendInfo:function(n){i.a.request("https://sc.ftqq.com/SCU6212Tc94a57258773b903c226dede26e6e4705a27b1ab1b762.send?text="+n)}}},m=(e(371),e(19)),v=Object(m.a)(g,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"container"},[n.loading&&0==n.infos.length?e("p",{staticClass:"loading"},[n._v("加载中...")]):e("div",[e("p",{staticClass:"all-money"},[n._v("\n      盈亏："+n._s(n.allMoney.toFixed(4))+" EOS\n    ")]),n._v(" "),e("div",{staticClass:"refresh",on:{click:function(t){n.getData()}}},[n._v(n._s(n.loading?"刷新中...":"刷新"))]),n._v(" "),n._l(n.farm,function(t){return e("div",{key:t,staticClass:"farm"},[n._v("\n      "+n._s(t)+"\n    ")])}),n._v(" "),n._l(n.infos,function(t){return e("div",{key:t.account,staticClass:"infos"},[e("p",{staticClass:"title"},[n._v(n._s(t.account)),e("span",{staticClass:"time"},[n._v(n._s(t.diff_text))])]),n._v(" "),e("p",{staticClass:"powder"},[n._v(n._s(t.powder)+"水")]),n._v(" "),e("div",{staticClass:"info-wrap"},n._l(t.pets,function(r,o){return e("p",{key:r+t.account+o,staticClass:"pet",domProps:{innerHTML:n._s(n.petHtml(r))}})}))])})],2)])},[],!1,null,null,null);v.options.__file="index.vue";t.default=v.exports}}]);